<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Music Player</title>
</head>
<body>
    <audio id="bgMusic" loop>
        <source src="wedding-music.mp3" type="audio/mpeg">
    </audio>

    <script>
        var bgMusic = document.getElementById('bgMusic');
        var hasStarted = false;

        // Get saved music state and time
        var musicState = sessionStorage.getItem('musicPlaying');
        var savedTime = parseFloat(sessionStorage.getItem('musicTime') || '0');

        // Set the saved time
        bgMusic.currentTime = savedTime;

        // Function to start music
        function startMusic() {
            if (!hasStarted) {
                bgMusic.play().then(function() {
                    hasStarted = true;
                    sessionStorage.setItem('musicPlaying', 'true');
                    console.log('Music started successfully');
                }).catch(function(error) {
                    console.log('Autoplay prevented:', error);
                });
            } else if (musicState !== 'false') {
                bgMusic.play().catch(function(error) {
                    console.log('Play prevented:', error);
                });
            }
        }
